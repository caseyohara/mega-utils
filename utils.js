var Utils=Utils||{extend:function(b,d){if(typeof b!=="undefined"&&typeof b==="object"){for(var c in d)typeof b[c]==="undefined"&&(b[c]=d[c]);return b}else return d}};
Utils.Hash=function(b){function d(){location.pathname.charAt(location.pathname.length-1)!=="/"&&(location.pathname+="/")}var c=this,b=Utils.extend(b,{slash:!0});c.initialize=function(){b.slash&&d();return c};c.get=function(){return location.hash};c.set=function(a){b.slash&&d();b.slash&&a.charAt(0)!=="/"&&(a="/"+a);location.hash=a.replace(/-/g,"/");return c.get()};c.segments=function(){var a=c.get();a.charAt(a.length-1)==="/"&&(a=a.substring(0,a.length-1));a=a.split("/");a.shift();return a};c.segment=
function(a){var b=c.segments()[a-1];if(typeof b==="undefined")return console.log("Error: Hash segment at index "+a+" does not exist"),!1;return b};c.element=function(){var a=c.segments(),b="",d;for(d in a){var f=a[d],e=d%2,g=!e;d==0?b+="#"+f:(g&&(b+=" > ."+f),e&&(isNaN(f)?b+=" > ."+f:(e=a[d-1],e.charAt(e.length-1)==="s"&&(e=e.substring(0,e.length-1)),b+=" > ."+e+":eq("+(f-1)+")")))}return b};c.onChange=function(a){!jQuery&&jQuery().hashchange?$(window).hashchange(a):window.onhashchange=a};return c.initialize()};